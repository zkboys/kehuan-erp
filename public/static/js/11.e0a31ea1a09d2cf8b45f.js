webpackJsonp([11],{1380:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PAGE_ROUTE=void 0;var i,u,s=(r(610),r(609)),f=n(s),c=(r(608),r(607)),d=n(c),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),y=r(0),m=n(y),h=r(63),b=r(175),v=r(283),g=n(v),P=(t.PAGE_ROUTE="/system/pass",(i=(0,b.ajax)())(u=function(e){function t(){var e,r,n,l;a(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={loading:!1},n.handleSubmit=function(e){console.log(e);var t=n.props.$ajax;n.setState({loading:!0}),t.put("/system/pass",e,{errorTip:"保存密码失败"}).then(function(e){console.log(e)}).finally(function(){n.setState({loading:!1})})},l=r,o(n,l)}return l(t,e),p(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state.loading;return m.default.createElement(h.PageContent,null,m.default.createElement(f.default,null,m.default.createElement(d.default,{span:12,offset:6},m.default.createElement(g.default,{loading:e,onSubmit:this.handleSubmit}))))}}]),t}(y.Component))||u);t.default=P},283:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return Object.keys(e).some(function(t){return e[t]})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,s,f,c,d=(r(35),r(31)),p=n(d),y=(r(36),r(64)),m=n(y),h=(r(84),r(21)),b=n(h),v=(r(82),r(81)),g=n(v),P=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),w=r(0),E=n(w),_=r(2),O=n(_),S=g.default.Item,j=(u=g.default.create())((c=f=function(e){function t(){var e,r,n,l;a(this,t);for(var i=arguments.length,u=Array(i),s=0;s<i;s++)u[s]=arguments[s];return r=n=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.state={confirmDirty:!1},n.handleSubmit=function(e){e.preventDefault();var t=n.props,r=t.loading,a=t.onSubmit;r||n.props.form.validateFields(function(e,t){e||a&&a(t)})},n.handleReNewPassConfirmBlur=function(e){var t=e.target.value;n.setState({confirmDirty:n.state.confirmDirty||!!t})},n.checkNewPass=function(e,t,r){if(!t)return r();var a=n.props.form,o=a.getFieldValue("newPass"),l=a.getFieldValue("oldPass");return t&&t!==o?r("您两次输入的新密码不一致!"):t&&t===l?r("新密码不与能原密码相同!"):t&&t===l?r("确认新密码不能与默认密码相同!"):void r()},n.checkReNewPass=function(e,t,r){if(!t)return r();var a=n.props.form,o=n.state.confirmDirty,l=a.getFieldValue("oldPass");return o&&a.validateFields(["reNewPass"],{force:!0}),t===l?r("新密码不能原密码相同!"):t===l?r("新密码不能与默认密码相同!"):void r()},n.handleReset=function(){n.props.form.resetFields(),n.props.form.validateFields()},l=r,o(n,l)}return l(t,e),P(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.hideOldPass,n=e.oldPass,a=this.props.form,o=a.getFieldDecorator,l=a.getFieldsError,u=a.getFieldError,s=a.isFieldTouched,f=s("oldPass")&&u("oldPass"),c=s("newPass")&&u("newPass"),d=s("reNewPass")&&u("reNewPass");return E.default.createElement(g.default,{onSubmit:this.handleSubmit},E.default.createElement(S,{style:{display:r?"none":"block"},validateStatus:f?"error":"",help:f||""},o("oldPass",{initialValue:n,rules:[{required:!0,message:"原密码不能为空！"}]})(E.default.createElement(m.default,{prefix:E.default.createElement(b.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"原密码"}))),E.default.createElement(S,{validateStatus:c?"error":"",help:c||""},o("newPass",{rules:[{required:!0,message:"请输入新密码！"},{validator:this.checkReNewPass}]})(E.default.createElement(m.default,{prefix:E.default.createElement(b.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"新密码"}))),E.default.createElement(S,{validateStatus:d?"error":"",help:d||""},o("reNewPass",{rules:[{required:!0,message:"请再次输入您的新密码！"},{validator:this.checkNewPass}]})(E.default.createElement(m.default,{prefix:E.default.createElement(b.default,{type:"lock",style:{fontSize:13}}),type:"password",placeholder:"确认新密码",onBlur:this.handleReNewPassConfirmBlur}))),E.default.createElement(S,{style:{marginBottom:8}},E.default.createElement(p.default,{style:{marginRight:8},loading:t,type:"primary",htmlType:"submit",disabled:i(l())},"保存"),E.default.createElement(p.default,{loading:t,type:"ghost",onClick:this.handleReset},"重置")))}}]),t}(w.Component),f.propTypes={loading:O.default.bool,onSubmit:O.default.func,oldPass:O.default.string},s=c))||s;t.default=j}});